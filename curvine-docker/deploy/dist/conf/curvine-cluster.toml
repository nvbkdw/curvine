
# Whether to format it.
# master formatting will delete rocksdb metadata
# Worker formatting will delete the data directory.
format_master = false
format_worker = false


# master configuration
[master]
meta_dir = "testing/meta"
log = { level = "info", log_dir = "stdout", file_name = "master.log" }

# TTL (Time-To-Live) configuration
ttl_checker_interval = "1h"        # TTL checker execution interval
ttl_checker_retry_attempts = 3     # Maximum retry attempts for failed TTL operations
ttl_bucket_interval = "1h"         # TTL bucket time interval
ttl_max_retry_duration = "30m"     # Maximum duration for retrying failed operations
ttl_retry_interval = "5s"          # Interval between retry attempts



# masta ha raft configuration.
[journal]
journal_addrs = [
    {id = 1, hostname = "localhost", port = 8996}
]
journal_dir = "testing/journal"


# Worker configuration
[worker]
dir_reserved = "0"
data_dir = [
    "[DISK]testing/data",
]
log = { level = "info", log_dir = "stdout", file_name = "worker.log" }


# Customer service configuration.
[client]
master_addrs = [
    { hostname = "localhost", port = 8995 }
]

# fuse configuration
[fuse]

# The log configuration of the customer service side, and the customer service side of rust, java, and fuse use this log file.
[log]
level = "info"
log_dir = "stdout"
file_name = "curvine.log"


# S3 Object Gateway configuration
[s3_gateway]
# Listen address for S3 gateway (host:port)
listen = "0.0.0.0:9900"
region = "us-east-1"
# Temporary directory for all PUT operations (multipart and regular)
put_temp_dir = "/tmp/curvine-temp"
# Memory buffer threshold for small files (bytes, default: 1MB)
put_memory_buffer_threshold = 1048576
# Maximum memory buffer size (bytes, default: 16MB)
put_max_memory_buffer = 16777216

# GET Performance Optimization Settings
# GET read/write chunk size in MB (default: 1.0, options: 0.5/1/2)
get_chunk_size_mb = 1.0
# GET prefetch depth for dual-buffer optimization (default: 2, range: 1-3)
get_prefetch_depth = 2 